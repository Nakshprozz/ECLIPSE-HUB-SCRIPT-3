-- ECLIPSE HUB ðŸŒ™
-- Made By NKDev

local Player = game:GetService("Players").LocalPlayer
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Create main screen GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "EclipseHub"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = game:GetService("CoreGui")

-- Main frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 350, 0, 250)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -125)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true

-- Rounded corners
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Make draggable
local dragging
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

-- Title bar
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

local UICorner2 = Instance.new("UICorner")
UICorner2.CornerRadius = UDim.new(0, 12)
UICorner2.Parent = TitleBar

-- Title text
local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(0, 200, 0, 30)
Title.Position = UDim2.new(0, 10, 0, 5)
Title.BackgroundTransparency = 1
Title.Text = "ECLIPSE HUB ðŸŒ™"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TitleBar

-- Made by text
local MadeBy = Instance.new("TextLabel")
MadeBy.Name = "MadeBy"
MadeBy.Size = UDim2.new(0, 100, 0, 20)
MadeBy.Position = UDim2.new(1, -110, 0, 10)
MadeBy.BackgroundTransparency = 1
MadeBy.Text = "Made By NKDev"
MadeBy.TextColor3 = Color3.fromRGB(255, 255, 255)
MadeBy.TextTransparency = 0.5
MadeBy.TextSize = 12
MadeBy.Font = Enum.Font.Gotham
MadeBy.TextXAlignment = Enum.TextXAlignment.Right
MadeBy.Parent = TitleBar

-- Content frame
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -20, 1, -60)
ContentFrame.Position = UDim2.new(0, 10, 0, 50)
ContentFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ContentFrame.BorderSizePixel = 0
ContentFrame.Parent = MainFrame

local UICorner3 = Instance.new("UICorner")
UICorner3.CornerRadius = UDim.new(0, 8)
UICorner3.Parent = ContentFrame

-- Speed toggle
local SpeedFrame = Instance.new("Frame")
SpeedFrame.Name = "SpeedFrame"
SpeedFrame.Size = UDim2.new(1, -20, 0, 40)
SpeedFrame.Position = UDim2.new(0, 10, 0, 10)
SpeedFrame.BackgroundTransparency = 1
SpeedFrame.Parent = ContentFrame

local SpeedLabel = Instance.new("TextLabel")
SpeedLabel.Name = "SpeedLabel"
SpeedLabel.Size = UDim2.new(0, 150, 1, 0)
SpeedLabel.Position = UDim2.new(0, 0, 0, 0)
SpeedLabel.BackgroundTransparency = 1
SpeedLabel.Text = "Increase Speed"
SpeedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedLabel.TextSize = 16
SpeedLabel.Font = Enum.Font.Gotham
SpeedLabel.TextXAlignment = Enum.TextXAlignment.Left
SpeedLabel.Parent = SpeedFrame

local SpeedToggle = Instance.new("TextButton")
SpeedToggle.Name = "SpeedToggle"
SpeedToggle.Size = UDim2.new(0, 50, 0, 25)
SpeedToggle.Position = UDim2.new(1, -60, 0.5, -12)
SpeedToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
SpeedToggle.Text = ""
SpeedToggle.AutoButtonColor = false
SpeedToggle.Parent = SpeedFrame

local UICorner4 = Instance.new("UICorner")
UICorner4.CornerRadius = UDim.new(0, 12)
UICorner4.Parent = SpeedToggle

local ToggleCircle = Instance.new("Frame")
ToggleCircle.Name = "ToggleCircle"
ToggleCircle.Size = UDim2.new(0, 21, 0, 21)
ToggleCircle.Position = UDim2.new(0, 2, 0.5, -10)
ToggleCircle.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
ToggleCircle.BorderSizePixel = 0
ToggleCircle.Parent = SpeedToggle

local UICorner5 = Instance.new("UICorner")
UICorner5.CornerRadius = UDim.new(0.5, 0)
UICorner5.Parent = ToggleCircle

local SpeedDescription = Instance.new("TextLabel")
SpeedDescription.Name = "SpeedDescription"
SpeedDescription.Size = UDim2.new(1, -20, 0, 15)
SpeedDescription.Position = UDim2.new(0, 10, 0, 45)
SpeedDescription.BackgroundTransparency = 1
SpeedDescription.Text = "Turning It On Sets The Players Speed To 50"
SpeedDescription.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedDescription.TextTransparency = 0.5
SpeedDescription.TextSize = 12
SpeedDescription.Font = Enum.Font.Gotham
SpeedDescription.TextXAlignment = Enum.TextXAlignment.Left
SpeedDescription.Parent = SpeedFrame

-- Fly toggle
local FlyFrame = Instance.new("Frame")
FlyFrame.Name = "FlyFrame"
FlyFrame.Size = UDim2.new(1, -20, 0, 40)
FlyFrame.Position = UDim2.new(0, 10, 0, 90)
FlyFrame.BackgroundTransparency = 1
FlyFrame.Parent = ContentFrame

local FlyLabel = Instance.new("TextLabel")
FlyLabel.Name = "FlyLabel"
FlyLabel.Size = UDim2.new(0, 150, 1, 0)
FlyLabel.Position = UDim2.new(0, 0, 0, 0)
FlyLabel.BackgroundTransparency = 1
FlyLabel.Text = "Fly"
FlyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FlyLabel.TextSize = 16
FlyLabel.Font = Enum.Font.Gotham
FlyLabel.TextXAlignment = Enum.TextXAlignment.Left
FlyLabel.Parent = FlyFrame

local FlyToggle = Instance.new("TextButton")
FlyToggle.Name = "FlyToggle"
FlyToggle.Size = UDim2.new(0, 50, 0, 25)
FlyToggle.Position = UDim2.new(1, -60, 0.5, -12)
FlyToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
FlyToggle.Text = ""
FlyToggle.AutoButtonColor = false
FlyToggle.Parent = FlyFrame

local UICorner6 = Instance.new("UICorner")
UICorner6.CornerRadius = UDim.new(0, 12)
UICorner6.Parent = FlyToggle

local ToggleCircle2 = Instance.new("Frame")
ToggleCircle2.Name = "ToggleCircle2"
ToggleCircle2.Size = UDim2.new(0, 21, 0, 21)
ToggleCircle2.Position = UDim2.new(0, 2, 0.5, -10)
ToggleCircle2.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
ToggleCircle2.BorderSizePixel = 0
ToggleCircle2.Parent = FlyToggle

local UICorner7 = Instance.new("UICorner")
UICorner7.CornerRadius = UDim.new(0.5, 0)
UICorner7.Parent = ToggleCircle2

local FlyDescription = Instance.new("TextLabel")
FlyDescription.Name = "FlyDescription"
FlyDescription.Size = UDim2.new(1, -20, 0, 15)
FlyDescription.Position = UDim2.new(0, 10, 0, 45)
FlyDescription.BackgroundTransparency = 1
FlyDescription.Text = "Turning It On Enables Fly"
FlyDescription.TextColor3 = Color3.fromRGB(255, 255, 255)
FlyDescription.TextTransparency = 0.5
FlyDescription.TextSize = 12
FlyDescription.Font = Enum.Font.Gotham
FlyDescription.TextXAlignment = Enum.TextXAlignment.Left
FlyDescription.Parent = FlyFrame

-- Toggle functionality
local speedEnabled = false
local flyEnabled = false
local flyBodyVelocity
local flyBodyGyro

SpeedToggle.MouseButton1Click:Connect(function()
    speedEnabled = not speedEnabled
    
    if speedEnabled then
        game:GetService("TweenService"):Create(ToggleCircle, TweenInfo.new(0.2), {Position = UDim2.new(0, 27, 0.5, -10)}):Play()
        game:GetService("TweenService"):Create(SpeedToggle, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(100, 180, 100)}):Play()
        
        if Player.Character and Player.Character:FindFirstChild("Humanoid") then
            Player.Character.Humanoid.WalkSpeed = 50
        end
    else
        game:GetService("TweenService"):Create(ToggleCircle, TweenInfo.new(0.2), {Position = UDim2.new(0, 2, 0.5, -10)}):Play()
        game:GetService("TweenService"):Create(SpeedToggle, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(60, 60, 60)}):Play()
        
        if Player.Character and Player.Character:FindFirstChild("Humanoid") then
            Player.Character.Humanoid.WalkSpeed = 16
        end
    end
end)

FlyToggle.MouseButton1Click:Connect(function()
    flyEnabled = not flyEnabled
    
    if flyEnabled then
        game:GetService("TweenService"):Create(ToggleCircle2, TweenInfo.new(0.2), {Position = UDim2.new(0, 27, 0.5, -10)}):Play()
        game:GetService("TweenService"):Create(FlyToggle, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(100, 180, 100)}):Play()
        
        -- Enable fly
        if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
            local root = Player.Character.HumanoidRootPart
            
            flyBodyVelocity = Instance.new("BodyVelocity")
            flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
            flyBodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
            flyBodyVelocity.Parent = root
            
            flyBodyGyro = Instance.new("BodyGyro")
            flyBodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
            flyBodyGyro.P = 10000
            flyBodyGyro.D = 100
            flyBodyGyro.CFrame = root.CFrame
            flyBodyGyro.Parent = root
            
            local flySpeed = 0
            local flyKeys = {}
            
            UserInputService.InputBegan:Connect(function(input, gameProcessed)
                if gameProcessed then return end
                
                if input.KeyCode == Enum.KeyCode.Space then
                    flyKeys["Space"] = true
                elseif input.KeyCode == Enum.KeyCode.LeftShift then
                    flyKeys["LeftShift"] = true
                end
            end)
            
            UserInputService.InputEnded:Connect(function(input, gameProcessed)
                if input.KeyCode == Enum.KeyCode.Space then
                    flyKeys["Space"] = false
                elseif input.KeyCode == Enum.KeyCode.LeftShift then
                    flyKeys["LeftShift"] = false
                end
            end)
            
            RunService.Stepped:Connect(function()
                if flyEnabled and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                    local root = Player.Character.HumanoidRootPart
                    
                    if flyKeys["Space"] then
                        flySpeed = flySpeed + 0.5
                    elseif flyKeys["LeftShift"] then
                        flySpeed = flySpeed - 0.5
                    else
                        flySpeed = flySpeed * 0.9
                    end
                    
                    flyBodyVelocity.Velocity = Vector3.new(0, flySpeed, 0)
                    flyBodyGyro.CFrame = workspace.CurrentCamera.CoordinateFrame
                end
            end)
        end
    else
        game:GetService("TweenService"):Create(ToggleCircle2, TweenInfo.new(0.2), {Position = UDim2.new(0, 2, 0.5, -10)}):Play()
        game:GetService("TweenService"):Create(FlyToggle, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(60, 60, 60)}):Play()
        
        -- Disable fly
        if flyBodyVelocity then
            flyBodyVelocity:Destroy()
            flyBodyVelocity = nil
        end
        
        if flyBodyGyro then
            flyBodyGyro:Destroy()
            flyBodyGyro = nil
        end
    end
end)

-- Character added event to reapply speed if needed
Player.CharacterAdded:Connect(function(character)
    if speedEnabled then
        character:WaitForChild("Humanoid").WalkSpeed = 50
    end
end)

-- Parent the main frame last to avoid visual glitches
MainFrame.Parent = ScreenGui
